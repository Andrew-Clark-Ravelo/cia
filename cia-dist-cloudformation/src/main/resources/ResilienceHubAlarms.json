{
  "AWSTemplateFormatVersion" : "2010-09-09",
  "Resources" : {
    "loadbalanceralarmapplicationhttpcodeelb4xxcount20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4I6037a689905d306a5AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-httpcode-elb-4xx-count-2020-04-01_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubApplicationLoadBalancerElbHttp4xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm}\",\"referenceId\":\"load-balancer:alarm:application_httpcode_elb_4xx_count:2020-04-01\",\"resourceId\":\"arn:aws:elasticloadbalancing:eu-west-1:172017021075:loadbalancer/app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "loadbalanceralarmapplicationrejectedconnectioncount20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4I6037a689905d306a5AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-rejected-connection-count-2020-04-01_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubApplicationLoadBalancerRejectedConnectionsCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm}\",\"referenceId\":\"load-balancer:alarm:application_rejected_connection_count:2020-04-01\",\"resourceId\":\"arn:aws:elasticloadbalancing:eu-west-1:172017021075:loadbalancer/app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "loadbalanceralarmapplicationhttpcodeelb5xxcount20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4I6037a689905d306a5AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-httpcode-elb-5xx-count-2020-04-01_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubApplicationLoadBalancerElbHttp5xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm}\",\"referenceId\":\"load-balancer:alarm:application_httpcode_elb_5xx_count:2020-04-01\",\"resourceId\":\"arn:aws:elasticloadbalancing:eu-west-1:172017021075:loadbalancer/app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "rdsalarmhealthmemory20200401rotationinstanceAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/rds-alarm-health-memory-2020-04-01_rotation-instance",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubRDSInstanceLowMemoryAlarm20200401rotationinstanceAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubApplicationLoadBalancerTargetHttp5xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-ApplicationLoadBalancerTargetHttp5xxCountAlarm-2020-04-01_CIA_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "AlarmDescription" : "Alerts when the number of HTTP 5XX target error codes, which were generated by the targets, is greater than or equal to the specified threshold",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "HTTPCode_Target_5XX_Count",
        "Namespace" : "AWS/ApplicationELB",
        "Dimensions" : [ {
          "Name" : "LoadBalancer",
          "Value" : "app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5"
        } ],
        "Period" : 60,
        "Statistic" : "Sum",
        "Threshold" : 100,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanOrEqualToThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "natgwalarmsuccessfulconnectionpercentage20200401nat01db331a7ecc7e5c9AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-successful-connection-percentage-2020-04-01_nat-01db331a7ecc7e5c9",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat01db331a7ecc7e5c9Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubApplicationLoadBalancerHealthyHostCountAlarm20200401CIAHttpsAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-ApplicationLoadBalancerHealthyHostCountAlarm-2020-04-01_CIA_CIA-Https",
        "AlarmDescription" : "Alerts when the healthy host count is less than or equal to the specified threshold",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "HealthyHostCount",
        "Namespace" : "AWS/ApplicationELB",
        "Dimensions" : [ {
          "Name" : "LoadBalancer",
          "Value" : "app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5"
        }, {
          "Name" : "TargetGroup",
          "Value" : "targetgroup/CIA-Https/05bdaa1364c960e2"
        } ],
        "Period" : 60,
        "Statistic" : "Maximum",
        "Threshold" : 0,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "LessThanOrEqualToThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "computealarmasgcloudwatchmemutil20210405riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-cloudwatch-mem-util-2021-04-05_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubAsgMemoryUtilizationAlarm20210405riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm}\",\"referenceId\":\"compute:alarm:asg-cloudwatch-mem-util:2021-04-05\",\"resourceId\":\"riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "s3alarmhealthtotalrequestlatency20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-total-request-latency-2020-04-01_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubS3TotalRequestLatencyAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubApplicationLoadBalancerUnHealthyHostCountAlarm20200401CIAHttpsAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-ApplicationLoadBalancerUnHealthyHostCountAlarm-2020-04-01_CIA_CIA-Https",
        "AlarmDescription" : "Alerts when the unhealthy host count is greater than or equal to the specified threshold",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "UnHealthyHostCount",
        "Namespace" : "AWS/ApplicationELB",
        "Dimensions" : [ {
          "Name" : "LoadBalancer",
          "Value" : "app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5"
        }, {
          "Name" : "TargetGroup",
          "Value" : "targetgroup/CIA-Https/05bdaa1364c960e2"
        } ],
        "Period" : 60,
        "Statistic" : "Minimum",
        "Threshold" : 1,
        "EvaluationPeriods" : 1,
        "DatapointsToAlarm" : 1,
        "ComparisonOperator" : "GreaterThanOrEqualToThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "rdsalarmhealthstorage20200401rotationinstanceAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/rds-alarm-health-storage-2020-04-01_rotation-instance",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubRDSInstanceLowStorageAlarm20200401rotationinstanceAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubRDSInstanceOverUtilizedCpuAlarm20200401rotationinstanceAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when database CPU utilization is over 90%",
        "AlarmName" : "AWSResilienceHub-RDSInstanceOverUtilizedCpuAlarm-2020-04-01_CIA_rotation-instance",
        "ComparisonOperator" : "GreaterThanThreshold",
        "DatapointsToAlarm" : 3,
        "Dimensions" : [ {
          "Name" : "DBInstanceIdentifier",
          "Value" : "rotation-instance"
        } ],
        "EvaluationPeriods" : 5,
        "MetricName" : "CPUUtilization",
        "Namespace" : "AWS/RDS",
        "Period" : 60,
        "Statistic" : "Maximum",
        "Threshold" : 90,
        "TreatMissingData" : "missing",
        "Unit" : "Percent"
      }
    },
    "AWSResilienceHubRDSInstanceLowMemoryAlarm20200401rotationinstanceAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when database free memory is under 10MB",
        "AlarmName" : "AWSResilienceHub-RDSInstanceLowMemoryAlarm-2020-04-01_CIA_rotation-instance",
        "ComparisonOperator" : "LessThanOrEqualToThreshold",
        "DatapointsToAlarm" : 3,
        "Dimensions" : [ {
          "Name" : "DBInstanceIdentifier",
          "Value" : "rotation-instance"
        } ],
        "EvaluationPeriods" : 5,
        "MetricName" : "FreeableMemory",
        "Namespace" : "AWS/RDS",
        "Period" : 60,
        "Statistic" : "Minimum",
        "Threshold" : 10485760,
        "TreatMissingData" : "missing"
      }
    },
    "loadbalanceralarmapplicationrejectedconnectioncount20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4I6037a689905d306a5AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-rejected-connection-count-2020-04-01_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubApplicationLoadBalancerRejectedConnectionsCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "s3alarmhealthtotalrequestlatency20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-total-request-latency-2020-04-01_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubS3TotalRequestLatencyAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubS34xxErrorsAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that tracks the 4xx responses received from S3",
        "AlarmName" : "AWSResilienceHub-S34xxErrorsAlarm-2020-04-01_CIA_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "MetricName" : "4xxErrors",
        "Namespace" : "AWS/S3",
        "Dimensions" : [ {
          "Name" : "BucketName",
          "Value" : "riksdagsmonitor-artifactbucket-2weuaw1rh2ad"
        }, {
          "Name" : "FilterId",
          "Value" : "riksdagsmonitor-artifactbucket-2weuaw1rh2ad-metrics"
        } ],
        "Period" : 60,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ExtendedStatistic" : "p80",
        "Threshold" : 0,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "loadbalanceralarmapplicationhealthyhostcount20200401CIAHttpsAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-healthy-host-count-2020-04-01_CIA-Https",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubApplicationLoadBalancerHealthyHostCountAlarm20200401CIAHttpsAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmsuccessfulconnectionpercentage20200401nat01db331a7ecc7e5c9AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-successful-connection-percentage-2020-04-01_nat-01db331a7ecc7e5c9",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat01db331a7ecc7e5c9Alarm}\",\"referenceId\":\"nat-gw:alarm:successful_connection_percentage:2020-04-01\",\"resourceId\":\"nat-01db331a7ecc7e5c9\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubApplicationLoadBalancerRejectedConnectionsCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-ApplicationLoadBalancerRejectedConnectionsCountAlarm-2020-04-01_CIA_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "AlarmDescription" : "Alerts when the number of the connections, which were rejected because the Application Load Balancer had reached its maximum number of connections, is greater than or equal to the specified threshold",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "RejectedConnectionCount",
        "Namespace" : "AWS/ApplicationELB",
        "Dimensions" : [ {
          "Name" : "LoadBalancer",
          "Value" : "app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5"
        } ],
        "Period" : 60,
        "Statistic" : "Sum",
        "Threshold" : 100,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanOrEqualToThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "natgwalarmpacketsdropcount20200401nat0e702390b902be1daAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-packets-drop-count-2020-04-01_nat-0e702390b902be1da",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwPacketsDropsAlarm20200401nat0e702390b902be1daAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgmanyunhealthyhosts20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-many-unhealthy-hosts-2020-07-13_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubAsgManyDyingHostsAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmsuccessfulconnectionpercentage20200401nat0e702390b902be1daAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-successful-connection-percentage-2020-04-01_nat-0e702390b902be1da",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat0e702390b902be1daAlarm}\",\"referenceId\":\"nat-gw:alarm:successful_connection_percentage:2020-04-01\",\"resourceId\":\"nat-0e702390b902be1da\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat0098cad18e5478625Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwSuccessfulConnectionPercentageAlarm-2020-04-01_CIA_nat-0098cad18e5478625",
        "AlarmDescription" : "Alarm by AWS Resilience Hub that is triggered when ConnectionEstablishedCount is less than the value for\nConnectionAttemptCount, this indicates that clients behind the NAT gateway attempted to establish\nnew connections for which there was no response\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "Metrics" : [ {
          "Id" : "m1",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "ConnectionAttemptCount",
              "Namespace" : "AWS/NATGateway",
              "Dimensions" : [ {
                "Name" : "NatGatewayId",
                "Value" : "nat-0098cad18e5478625"
              } ]
            },
            "Period" : 60,
            "Stat" : "Sum"
          },
          "ReturnData" : false
        }, {
          "Id" : "m2",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "ConnectionEstablishedCount",
              "Namespace" : "AWS/NATGateway",
              "Dimensions" : [ {
                "Name" : "NatGatewayId",
                "Value" : "nat-0098cad18e5478625"
              } ]
            },
            "Period" : 60,
            "Stat" : "Sum"
          },
          "ReturnData" : false
        }, {
          "Expression" : "(m2/m1)*100",
          "Id" : "successfulConnectionPercentage"
        } ],
        "Threshold" : 50,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "LessThanThreshold",
        "TreatMissingData" : "missing"
      }
    },
    "s3alarmhealthtotalrequestlatency20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-total-request-latency-2020-04-01_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubS3TotalRequestLatencyAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm}\",\"referenceId\":\"s3:alarm:health_total_request_latency:2020-04-01\",\"resourceId\":\"riksdagsmonitor-logsbucket-1mcp1y1l1wbi6\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubS34xxErrorsAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that tracks the 4xx responses received from S3",
        "AlarmName" : "AWSResilienceHub-S34xxErrorsAlarm-2020-04-01_CIA_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "MetricName" : "4xxErrors",
        "Namespace" : "AWS/S3",
        "Dimensions" : [ {
          "Name" : "BucketName",
          "Value" : "riksdagsmonitor-logsbucket-1mcp1y1l1wbi6"
        }, {
          "Name" : "FilterId",
          "Value" : "riksdagsmonitor-logsbucket-1mcp1y1l1wbi6-metrics"
        } ],
        "Period" : 60,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ExtendedStatistic" : "p80",
        "Threshold" : 0,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "s3alarmhealth5xxerrorscount20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-5xx-errors-count-2020-04-01_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubS35xxErrorsAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgcpuutil20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-cpu-util-2020-07-13_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubAsgHighCpuUtilizationAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgcpuutil20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-cpu-util-2020-07-13_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubAsgHighCpuUtilizationAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm}\",\"referenceId\":\"compute:alarm:asg-cpu-util:2020-07-13\",\"resourceId\":\"riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY\",\"relatedSOPs\":[\"compute:sop:asg-scale_out:2020-07-01\"]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "loadbalanceralarmapplicationhttpcodetarget5xxcount20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4I6037a689905d306a5AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-httpcode-target-5xx-count-2020-04-01_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubApplicationLoadBalancerTargetHttp5xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "s3alarmhealth5xxerrorscount20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-5xx-errors-count-2020-04-01_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubS35xxErrorsAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm}\",\"referenceId\":\"s3:alarm:health_5xx_errors_count:2020-04-01\",\"resourceId\":\"riksdagsmonitor-artifactbucket-2weuaw1rh2ad\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "s3alarmhealth4xxerrorscount20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-4xx-errors-count-2020-04-01_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubS34xxErrorsAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubS35xxErrorsAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when a number of 5xxErrors is over 0%",
        "AlarmName" : "AWSResilienceHub-S35xxErrorsAlarm-2020-04-01_CIA_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "MetricName" : "5xxErrors",
        "Namespace" : "AWS/S3",
        "Statistic" : "Average",
        "Dimensions" : [ {
          "Name" : "BucketName",
          "Value" : "riksdagsmonitor-logsbucket-1mcp1y1l1wbi6"
        }, {
          "Name" : "FilterId",
          "Value" : "riksdagsmonitor-logsbucket-1mcp1y1l1wbi6-metrics"
        } ],
        "Period" : 60,
        "EvaluationPeriods" : 1,
        "DatapointsToAlarm" : 1,
        "Threshold" : 0,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "natgwalarmsuccessfulconnectionpercentage20200401nat0098cad18e5478625AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-successful-connection-percentage-2020-04-01_nat-0098cad18e5478625",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat0098cad18e5478625Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubNatGwPacketsDropsAlarm20200401nat0098cad18e5478625Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwPacketsDropsAlarm-2020-04-01_CIA_nat-0098cad18e5478625",
        "AlarmDescription" : "The number of packets dropped by the NAT gateway. A value greater than zero may indicate an ongoing transient\nissue with the NAT Gateway\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "PacketsDropCount",
        "Namespace" : "AWS/NATGateway",
        "Dimensions" : [ {
          "Name" : "NatGatewayId",
          "Value" : "nat-0098cad18e5478625"
        } ],
        "Period" : 60,
        "Statistic" : "Sum",
        "Threshold" : 0,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "missing"
      }
    },
    "rdsalarmhealthconnections20200401rotationinstanceAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/rds-alarm-health-connections-2020-04-01_rotation-instance",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubRDSInstanceConnectionSpikeAlarm20200401rotationinstanceAlarm}\",\"referenceId\":\"rds:alarm:health-connections:2020-04-01\",\"resourceId\":\"rotation-instance\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmpacketsdropcount20200401nat0098cad18e5478625AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-packets-drop-count-2020-04-01_nat-0098cad18e5478625",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwPacketsDropsAlarm20200401nat0098cad18e5478625Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmsuccessfulconnectionpercentage20200401nat0e702390b902be1daAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-successful-connection-percentage-2020-04-01_nat-0e702390b902be1da",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat0e702390b902be1daAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgreqcount20200713CIAHttpsAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-req-count-2020-07-13_CIA-Https",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubAsgAbnormalRequestPerTargetAlarm20200713CIAHttpsAlarm}\",\"referenceId\":\"compute:alarm:asg-req-count:2020-07-13\",\"resourceId\":\"CIA-Https\",\"relatedSOPs\":[\"compute:sop:asg-scale_out:2020-07-01\"]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubS35xxErrorsAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when a number of 5xxErrors is over 0%",
        "AlarmName" : "AWSResilienceHub-S35xxErrorsAlarm-2020-04-01_CIA_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "MetricName" : "5xxErrors",
        "Namespace" : "AWS/S3",
        "Statistic" : "Average",
        "Dimensions" : [ {
          "Name" : "BucketName",
          "Value" : "riksdagsmonitor-artifactbucket-2weuaw1rh2ad"
        }, {
          "Name" : "FilterId",
          "Value" : "riksdagsmonitor-artifactbucket-2weuaw1rh2ad-metrics"
        } ],
        "Period" : 60,
        "EvaluationPeriods" : 1,
        "DatapointsToAlarm" : 1,
        "Threshold" : 0,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "rdsalarmhealthcpu20200401rotationinstanceAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/rds-alarm-health-cpu-2020-04-01_rotation-instance",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubRDSInstanceOverUtilizedCpuAlarm20200401rotationinstanceAlarm}\",\"referenceId\":\"rds:alarm:health-cpu:2020-04-01\",\"resourceId\":\"rotation-instance\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "s3alarmhealth5xxerrorscount20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-5xx-errors-count-2020-04-01_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubS35xxErrorsAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubApplicationLoadBalancerElbHttp4xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-ApplicationLoadBalancerElbHttp4xxCountAlarm-2020-04-01_CIA_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "AlarmDescription" : "Alerts when the number of HTTP 4XX server error codes, which originate from the Application Load Balancer, is greater than or equal to the specified threshold",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "HTTPCode_ELB_4XX_Count",
        "Namespace" : "AWS/ApplicationELB",
        "Dimensions" : [ {
          "Name" : "LoadBalancer",
          "Value" : "app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5"
        } ],
        "Period" : 60,
        "Statistic" : "Sum",
        "Threshold" : 100,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanOrEqualToThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "natgwalarmpacketsdropcount20200401nat01db331a7ecc7e5c9AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-packets-drop-count-2020-04-01_nat-01db331a7ecc7e5c9",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwPacketsDropsAlarm20200401nat01db331a7ecc7e5c9Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "appcommonalarmsyntheticcanary20210401euwest1AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/app-common-alarm-synthetic-canary-2021-04-01_eu-west-1",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubSyntheticCanaryInRegionAlarm20210401euwest1Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubRDSInstanceConnectionSpikeAlarm20200401rotationinstanceAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when connections are anomalous with band width 2",
        "AlarmName" : "AWSResilienceHub-RDSInstanceConnectionSpikeAlarm-2020-04-01_CIA_rotation-instance",
        "ComparisonOperator" : "LessThanLowerOrGreaterThanUpperThreshold",
        "DatapointsToAlarm" : 3,
        "EvaluationPeriods" : 5,
        "Metrics" : [ {
          "Expression" : "ANOMALY_DETECTION_BAND(m1,2)",
          "Id" : "ad1"
        }, {
          "Id" : "m1",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "DatabaseConnections",
              "Namespace" : "AWS/RDS",
              "Dimensions" : [ {
                "Name" : "DBInstanceIdentifier",
                "Value" : "rotation-instance"
              } ]
            },
            "Period" : 60,
            "Stat" : "Maximum"
          }
        } ],
        "ThresholdMetricId" : "ad1",
        "TreatMissingData" : "missing"
      }
    },
    "AWSResilienceHubApplicationLoadBalancerElbHttp5xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-ApplicationLoadBalancerElbHttp5xxCountAlarm-2020-04-01_CIA_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "AlarmDescription" : "Alerts when the number of HTTP 5XX server error codes, which originate from the Application Load Balancer, is greater than or equal to the specified threshold",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "HTTPCode_ELB_5XX_Count",
        "Namespace" : "AWS/ApplicationELB",
        "Dimensions" : [ {
          "Name" : "LoadBalancer",
          "Value" : "app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5"
        } ],
        "Period" : 60,
        "Statistic" : "Sum",
        "Threshold" : 100,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanOrEqualToThreshold",
        "TreatMissingData" : "notBreaching",
        "Unit" : "Count"
      }
    },
    "AWSResilienceHubAsgAbnormalRequestPerTargetAlarm20200713CIAHttpsAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when target group request count is anomalous with band width 1",
        "AlarmName" : "AWSResilienceHub-AsgAbnormalRequestPerTargetAlarm-2020-07-13_CIA_CIA-Https",
        "ComparisonOperator" : "GreaterThanUpperThreshold",
        "EvaluationPeriods" : 15,
        "DatapointsToAlarm" : 10,
        "Metrics" : [ {
          "Expression" : "ANOMALY_DETECTION_BAND(m1,1)",
          "Id" : "ad1"
        }, {
          "Id" : "m1",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "RequestCountPerTarget",
              "Namespace" : "AWS/ApplicationELB",
              "Dimensions" : [ {
                "Name" : "TargetGroup",
                "Value" : "targetgroup/CIA-Https/05bdaa1364c960e2"
              } ]
            },
            "Period" : 60,
            "Stat" : "Average"
          }
        } ],
        "ThresholdMetricId" : "ad1",
        "TreatMissingData" : "missing"
      }
    },
    "loadbalanceralarmapplicationunhealthyhostcount20200401CIAHttpsAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-unhealthy-host-count-2020-04-01_CIA-Https",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubApplicationLoadBalancerUnHealthyHostCountAlarm20200401CIAHttpsAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat0e702390b902be1daAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwPortAllocationErrorsAlarm-2020-04-01_CIA_nat-0e702390b902be1da",
        "AlarmDescription" : "Alarm by AWS Resilience Hub that indicates that too many concurrent connections are open through the NAT gateway\nand the NAT gateway could not allocate a source port\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "ErrorPortAllocation",
        "Namespace" : "AWS/NATGateway",
        "Dimensions" : [ {
          "Name" : "NatGatewayId",
          "Value" : "nat-0e702390b902be1da"
        } ],
        "Period" : 60,
        "Statistic" : "Average",
        "Threshold" : 0,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "notBreaching"
      }
    },
    "natgwalarmerrorportallocation20200401nat0e702390b902be1daAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-error-port-allocation-2020-04-01_nat-0e702390b902be1da",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat0e702390b902be1daAlarm}\",\"referenceId\":\"nat-gw:alarm:error_port_allocation:2020-04-01\",\"resourceId\":\"nat-0e702390b902be1da\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmpacketsdropcount20200401nat0098cad18e5478625AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-packets-drop-count-2020-04-01_nat-0098cad18e5478625",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwPacketsDropsAlarm20200401nat0098cad18e5478625Alarm}\",\"referenceId\":\"nat-gw:alarm:packets_drop_count:2020-04-01\",\"resourceId\":\"nat-0098cad18e5478625\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmpacketsdropcount20200401nat01db331a7ecc7e5c9AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-packets-drop-count-2020-04-01_nat-01db331a7ecc7e5c9",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwPacketsDropsAlarm20200401nat01db331a7ecc7e5c9Alarm}\",\"referenceId\":\"nat-gw:alarm:packets_drop_count:2020-04-01\",\"resourceId\":\"nat-01db331a7ecc7e5c9\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubNatGwPacketsDropsAlarm20200401nat01db331a7ecc7e5c9Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwPacketsDropsAlarm-2020-04-01_CIA_nat-01db331a7ecc7e5c9",
        "AlarmDescription" : "The number of packets dropped by the NAT gateway. A value greater than zero may indicate an ongoing transient\nissue with the NAT Gateway\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "PacketsDropCount",
        "Namespace" : "AWS/NATGateway",
        "Dimensions" : [ {
          "Name" : "NatGatewayId",
          "Value" : "nat-01db331a7ecc7e5c9"
        } ],
        "Period" : 60,
        "Statistic" : "Sum",
        "Threshold" : 0,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "missing"
      }
    },
    "s3alarmhealth4xxerrorscount20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-4xx-errors-count-2020-04-01_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubS34xxErrorsAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubSyntheticCanaryInRegionAlarm20210401euwest1Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that is triggered when synthetic canary SuccessPercent drops below 100%",
        "AlarmName" : "AWSResilienceHub-SyntheticCanaryInRegionAlarm-2021-04-01_CIA_eu-west-1",
        "ComparisonOperator" : "LessThanThreshold",
        "EvaluationPeriods" : 3,
        "DatapointsToAlarm" : 2,
        "Dimensions" : [ {
          "Name" : "CanaryName",
          "Value" : {
            "Ref" : "CanaryName"
          }
        } ],
        "MetricName" : "SuccessPercent",
        "Namespace" : "CloudWatchSynthetics",
        "Period" : 60,
        "Statistic" : "Average",
        "Threshold" : 100,
        "TreatMissingData" : "missing",
        "Unit" : "Percent"
      }
    },
    "s3alarmhealth4xxerrorscount20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-4xx-errors-count-2020-04-01_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubS34xxErrorsAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm}\",\"referenceId\":\"s3:alarm:health_4xx_errors_count:2020-04-01\",\"resourceId\":\"riksdagsmonitor-artifactbucket-2weuaw1rh2ad\",\"relatedSOPs\":[\"s3:sop:restore_to_previous_versions:2020-09-21\",\"s3:sop:restore_from_backup:2020-09-21\"]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat01db331a7ecc7e5c9Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwSuccessfulConnectionPercentageAlarm-2020-04-01_CIA_nat-01db331a7ecc7e5c9",
        "AlarmDescription" : "Alarm by AWS Resilience Hub that is triggered when ConnectionEstablishedCount is less than the value for\nConnectionAttemptCount, this indicates that clients behind the NAT gateway attempted to establish\nnew connections for which there was no response\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "Metrics" : [ {
          "Id" : "m1",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "ConnectionAttemptCount",
              "Namespace" : "AWS/NATGateway",
              "Dimensions" : [ {
                "Name" : "NatGatewayId",
                "Value" : "nat-01db331a7ecc7e5c9"
              } ]
            },
            "Period" : 60,
            "Stat" : "Sum"
          },
          "ReturnData" : false
        }, {
          "Id" : "m2",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "ConnectionEstablishedCount",
              "Namespace" : "AWS/NATGateway",
              "Dimensions" : [ {
                "Name" : "NatGatewayId",
                "Value" : "nat-01db331a7ecc7e5c9"
              } ]
            },
            "Period" : 60,
            "Stat" : "Sum"
          },
          "ReturnData" : false
        }, {
          "Expression" : "(m2/m1)*100",
          "Id" : "successfulConnectionPercentage"
        } ],
        "Threshold" : 50,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "LessThanThreshold",
        "TreatMissingData" : "missing"
      }
    },
    "AWSResilienceHubNatGwPacketsDropsAlarm20200401nat0e702390b902be1daAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwPacketsDropsAlarm-2020-04-01_CIA_nat-0e702390b902be1da",
        "AlarmDescription" : "The number of packets dropped by the NAT gateway. A value greater than zero may indicate an ongoing transient\nissue with the NAT Gateway\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "PacketsDropCount",
        "Namespace" : "AWS/NATGateway",
        "Dimensions" : [ {
          "Name" : "NatGatewayId",
          "Value" : "nat-0e702390b902be1da"
        } ],
        "Period" : 60,
        "Statistic" : "Sum",
        "Threshold" : 0,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "missing"
      }
    },
    "loadbalanceralarmapplicationhttpcodeelb5xxcount20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4I6037a689905d306a5AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-httpcode-elb-5xx-count-2020-04-01_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubApplicationLoadBalancerElbHttp5xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "rdsalarmhealthstorage20200401rotationinstanceAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/rds-alarm-health-storage-2020-04-01_rotation-instance",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubRDSInstanceLowStorageAlarm20200401rotationinstanceAlarm}\",\"referenceId\":\"rds:alarm:health-storage:2020-04-01\",\"resourceId\":\"rotation-instance\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgcloudwatchmemutil20210405riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-cloudwatch-mem-util-2021-04-05_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubAsgMemoryUtilizationAlarm20210405riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmpacketsdropcount20200401nat0e702390b902be1daAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-packets-drop-count-2020-04-01_nat-0e702390b902be1da",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwPacketsDropsAlarm20200401nat0e702390b902be1daAlarm}\",\"referenceId\":\"nat-gw:alarm:packets_drop_count:2020-04-01\",\"resourceId\":\"nat-0e702390b902be1da\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmerrorportallocation20200401nat0098cad18e5478625AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-error-port-allocation-2020-04-01_nat-0098cad18e5478625",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat0098cad18e5478625Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgmultipleunhealthyhosts20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-multiple-unhealthy-hosts-2020-07-13_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubAsgConcurrentUnhealthyHostsAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmerrorportallocation20200401nat01db331a7ecc7e5c9AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-error-port-allocation-2020-04-01_nat-01db331a7ecc7e5c9",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat01db331a7ecc7e5c9Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat0e702390b902be1daAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwSuccessfulConnectionPercentageAlarm-2020-04-01_CIA_nat-0e702390b902be1da",
        "AlarmDescription" : "Alarm by AWS Resilience Hub that is triggered when ConnectionEstablishedCount is less than the value for\nConnectionAttemptCount, this indicates that clients behind the NAT gateway attempted to establish\nnew connections for which there was no response\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "Metrics" : [ {
          "Id" : "m1",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "ConnectionAttemptCount",
              "Namespace" : "AWS/NATGateway",
              "Dimensions" : [ {
                "Name" : "NatGatewayId",
                "Value" : "nat-0e702390b902be1da"
              } ]
            },
            "Period" : 60,
            "Stat" : "Sum"
          },
          "ReturnData" : false
        }, {
          "Id" : "m2",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "ConnectionEstablishedCount",
              "Namespace" : "AWS/NATGateway",
              "Dimensions" : [ {
                "Name" : "NatGatewayId",
                "Value" : "nat-0e702390b902be1da"
              } ]
            },
            "Period" : 60,
            "Stat" : "Sum"
          },
          "ReturnData" : false
        }, {
          "Expression" : "(m2/m1)*100",
          "Id" : "successfulConnectionPercentage"
        } ],
        "Threshold" : 50,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "LessThanThreshold",
        "TreatMissingData" : "missing"
      }
    },
    "AWSResilienceHubAsgManyDyingHostsAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when over time an ASG has many unhealthy hosts",
        "AlarmName" : "AWSResilienceHub-AsgManyDyingHostsAlarm-2020-07-13_CIA_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "ComparisonOperator" : "GreaterThanThreshold",
        "EvaluationPeriods" : 180,
        "DatapointsToAlarm" : 5,
        "Dimensions" : [ {
          "Name" : "TargetGroup",
          "Value" : "targetgroup/CIA-Https/05bdaa1364c960e2"
        }, {
          "Name" : "LoadBalancer",
          "Value" : "app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5"
        } ],
        "MetricName" : "UnHealthyHostCount",
        "Namespace" : "AWS/ApplicationELB",
        "Period" : 60,
        "Statistic" : "Maximum",
        "Threshold" : 1,
        "TreatMissingData" : "missing"
      }
    },
    "AWSResilienceHubAsgMemoryUtilizationAlarm20210405riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when memory utilization is anomalous with band width 90",
        "AlarmName" : "AWSResilienceHub-AsgMemoryUtilizationAlarm-2021-04-05_CIA_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "ComparisonOperator" : "LessThanLowerOrGreaterThanUpperThreshold",
        "EvaluationPeriods" : 3,
        "DatapointsToAlarm" : 3,
        "ThresholdMetricId" : "ad1",
        "TreatMissingData" : "missing",
        "Metrics" : [ {
          "Id" : "ad1",
          "Expression" : "ANOMALY_DETECTION_BAND(m1,90)"
        }, {
          "Id" : "m1",
          "MetricStat" : {
            "Metric" : {
              "MetricName" : "mem_used_percent",
              "Namespace" : "CWAgent",
              "Dimensions" : [ {
                "Name" : "AutoScalingGroupName",
                "Value" : "riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY"
              } ]
            },
            "Period" : 60,
            "Stat" : "p95.00",
            "Unit" : "Percent"
          }
        } ]
      }
    },
    "appcommonalarmsyntheticcanary20210401euwest1AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/app-common-alarm-synthetic-canary-2021-04-01_eu-west-1",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubSyntheticCanaryInRegionAlarm20210401euwest1Alarm}\",\"referenceId\":\"app_common:alarm:synthetic_canary:2021-04-01\",\"resourceId\":\"eu-west-1\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubS3TotalRequestLatencyAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when a number of TotalRequestLatency is over 2000 milliseconds",
        "AlarmName" : "AWSResilienceHub-S3TotalRequestLatencyAlarm-2020-04-01_CIA_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "MetricName" : "TotalRequestLatency",
        "Namespace" : "AWS/S3",
        "Statistic" : "Maximum",
        "Dimensions" : [ {
          "Name" : "BucketName",
          "Value" : "riksdagsmonitor-artifactbucket-2weuaw1rh2ad"
        }, {
          "Name" : "FilterId",
          "Value" : "riksdagsmonitor-artifactbucket-2weuaw1rh2ad-metrics"
        } ],
        "Period" : 60,
        "EvaluationPeriods" : 1,
        "DatapointsToAlarm" : 1,
        "Threshold" : 2000,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "missing",
        "Unit" : "Milliseconds"
      }
    },
    "AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat01db331a7ecc7e5c9Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwPortAllocationErrorsAlarm-2020-04-01_CIA_nat-01db331a7ecc7e5c9",
        "AlarmDescription" : "Alarm by AWS Resilience Hub that indicates that too many concurrent connections are open through the NAT gateway\nand the NAT gateway could not allocate a source port\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "ErrorPortAllocation",
        "Namespace" : "AWS/NATGateway",
        "Dimensions" : [ {
          "Name" : "NatGatewayId",
          "Value" : "nat-01db331a7ecc7e5c9"
        } ],
        "Period" : 60,
        "Statistic" : "Average",
        "Threshold" : 0,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "notBreaching"
      }
    },
    "loadbalanceralarmapplicationhttpcodeelb4xxcount20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4I6037a689905d306a5AlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-httpcode-elb-4xx-count-2020-04-01_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubApplicationLoadBalancerElbHttp4xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "s3alarmhealth5xxerrorscount20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-5xx-errors-count-2020-04-01_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubS35xxErrorsAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm}\",\"referenceId\":\"s3:alarm:health_5xx_errors_count:2020-04-01\",\"resourceId\":\"riksdagsmonitor-logsbucket-1mcp1y1l1wbi6\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgmultipleunhealthyhosts20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-multiple-unhealthy-hosts-2020-07-13_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubAsgConcurrentUnhealthyHostsAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm}\",\"referenceId\":\"compute:alarm:asg-multiple-unhealthy-hosts:2020-07-13\",\"resourceId\":\"riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubS3TotalRequestLatencyAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when a number of TotalRequestLatency is over 2000 milliseconds",
        "AlarmName" : "AWSResilienceHub-S3TotalRequestLatencyAlarm-2020-04-01_CIA_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "MetricName" : "TotalRequestLatency",
        "Namespace" : "AWS/S3",
        "Statistic" : "Maximum",
        "Dimensions" : [ {
          "Name" : "BucketName",
          "Value" : "riksdagsmonitor-logsbucket-1mcp1y1l1wbi6"
        }, {
          "Name" : "FilterId",
          "Value" : "riksdagsmonitor-logsbucket-1mcp1y1l1wbi6-metrics"
        } ],
        "Period" : 60,
        "EvaluationPeriods" : 1,
        "DatapointsToAlarm" : 1,
        "Threshold" : 2000,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "missing",
        "Unit" : "Milliseconds"
      }
    },
    "natgwalarmerrorportallocation20200401nat0e702390b902be1daAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-error-port-allocation-2020-04-01_nat-0e702390b902be1da",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat0e702390b902be1daAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubRDSInstanceLowStorageAlarm20200401rotationinstanceAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when free storage is under 20GB",
        "AlarmName" : "AWSResilienceHub-RDSInstanceLowStorageAlarm-2020-04-01_CIA_rotation-instance",
        "ComparisonOperator" : "LessThanOrEqualToThreshold",
        "DatapointsToAlarm" : 3,
        "Dimensions" : [ {
          "Name" : "DBInstanceIdentifier",
          "Value" : "rotation-instance"
        } ],
        "EvaluationPeriods" : 5,
        "MetricName" : "FreeStorageSpace",
        "Namespace" : "AWS/RDS",
        "Period" : 60,
        "Statistic" : "Minimum",
        "Threshold" : 21474836480,
        "TreatMissingData" : "missing"
      }
    },
    "s3alarmhealth4xxerrorscount20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-4xx-errors-count-2020-04-01_riksdagsmonitor-logsbucket-1mcp1y1l1wbi6",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubS34xxErrorsAlarm20200401riksdagsmonitorlogsbucket1mcp1y1l1wbi6Alarm}\",\"referenceId\":\"s3:alarm:health_4xx_errors_count:2020-04-01\",\"resourceId\":\"riksdagsmonitor-logsbucket-1mcp1y1l1wbi6\",\"relatedSOPs\":[\"s3:sop:restore_to_previous_versions:2020-09-21\",\"s3:sop:restore_from_backup:2020-09-21\"]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "loadbalanceralarmapplicationunhealthyhostcount20200401CIAHttpsAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-unhealthy-host-count-2020-04-01_CIA-Https",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubApplicationLoadBalancerUnHealthyHostCountAlarm20200401CIAHttpsAlarm}\",\"referenceId\":\"load-balancer:alarm:application_unhealthy_host_count:2020-04-01\",\"resourceId\":\"CIA-Https\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "loadbalanceralarmapplicationhttpcodetarget5xxcount20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4I6037a689905d306a5AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-httpcode-target-5xx-count-2020-04-01_arn-aws-elasticloadbalancing-eu-west-1-172017021075-loadbalancer-app-riksd-Publi-1QBM634ZKP4I6-037a689905d306a5",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubApplicationLoadBalancerTargetHttp5xxCountAlarm20200401arnawselasticloadbalancingeuwest1172017021075loadbalancerappriksdPubli1QBM634ZKP4nyrtk9Alarm}\",\"referenceId\":\"load-balancer:alarm:application_httpcode_target_5xx_count:2020-04-01\",\"resourceId\":\"arn:aws:elasticloadbalancing:eu-west-1:172017021075:loadbalancer/app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "rdsalarmhealthconnections20200401rotationinstanceAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/rds-alarm-health-connections-2020-04-01_rotation-instance",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubRDSInstanceConnectionSpikeAlarm20200401rotationinstanceAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "rdsalarmhealthmemory20200401rotationinstanceAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/rds-alarm-health-memory-2020-04-01_rotation-instance",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubRDSInstanceLowMemoryAlarm20200401rotationinstanceAlarm}\",\"referenceId\":\"rds:alarm:health-memory:2020-04-01\",\"resourceId\":\"rotation-instance\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "loadbalanceralarmapplicationhealthyhostcount20200401CIAHttpsAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/load-balancer-alarm-application-healthy-host-count-2020-04-01_CIA-Https",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubApplicationLoadBalancerHealthyHostCountAlarm20200401CIAHttpsAlarm}\",\"referenceId\":\"load-balancer:alarm:application_healthy_host_count:2020-04-01\",\"resourceId\":\"CIA-Https\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "s3alarmhealthtotalrequestlatency20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/s3-alarm-health-total-request-latency-2020-04-01_riksdagsmonitor-artifactbucket-2weuaw1rh2ad",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubS3TotalRequestLatencyAlarm20200401riksdagsmonitorartifactbucket2weuaw1rh2adAlarm}\",\"referenceId\":\"s3:alarm:health_total_request_latency:2020-04-01\",\"resourceId\":\"riksdagsmonitor-artifactbucket-2weuaw1rh2ad\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmerrorportallocation20200401nat0098cad18e5478625AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-error-port-allocation-2020-04-01_nat-0098cad18e5478625",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat0098cad18e5478625Alarm}\",\"referenceId\":\"nat-gw:alarm:error_port_allocation:2020-04-01\",\"resourceId\":\"nat-0098cad18e5478625\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "rdsalarmhealthcpu20200401rotationinstanceAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/rds-alarm-health-cpu-2020-04-01_rotation-instance",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubRDSInstanceOverUtilizedCpuAlarm20200401rotationinstanceAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "natgwalarmsuccessfulconnectionpercentage20200401nat0098cad18e5478625AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-successful-connection-percentage-2020-04-01_nat-0098cad18e5478625",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwSuccessfulConnectionPercentageAlarm20200401nat0098cad18e5478625Alarm}\",\"referenceId\":\"nat-gw:alarm:successful_connection_percentage:2020-04-01\",\"resourceId\":\"nat-0098cad18e5478625\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubAsgHighCpuUtilizationAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when autoscale group CPU utilization is over 90%",
        "AlarmName" : "AWSResilienceHub-AsgHighCpuUtilizationAlarm-2020-07-13_CIA_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "ComparisonOperator" : "GreaterThanThreshold",
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "Dimensions" : [ {
          "Name" : "AutoScalingGroupName",
          "Value" : "riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY"
        } ],
        "MetricName" : "CPUUtilization",
        "Namespace" : "AWS/EC2",
        "Period" : 60,
        "Statistic" : "Average",
        "Threshold" : 90,
        "TreatMissingData" : "missing",
        "Unit" : "Percent"
      }
    },
    "natgwalarmerrorportallocation20200401nat01db331a7ecc7e5c9AlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/nat-gw-alarm-error-port-allocation-2020-04-01_nat-01db331a7ecc7e5c9",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat01db331a7ecc7e5c9Alarm}\",\"referenceId\":\"nat-gw:alarm:error_port_allocation:2020-04-01\",\"resourceId\":\"nat-01db331a7ecc7e5c9\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgreqcount20200713CIAHttpsAlarmSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-req-count-2020-07-13_CIA-Https",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "${AWSResilienceHubAsgAbnormalRequestPerTargetAlarm20200713CIAHttpsAlarm}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "computealarmasgmanyunhealthyhosts20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarmInfoSSMParameter" : {
      "Type" : "AWS::SSM::Parameter",
      "Properties" : {
        "Name" : "/ResilienceHub/Info/Alarm/147703f1-b04b-4a94-a08e-5b5254778c44/compute-alarm-asg-many-unhealthy-hosts-2020-07-13_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "Type" : "String",
        "Value" : {
          "Fn::Sub" : "{\"alarmName\":\"${AWSResilienceHubAsgManyDyingHostsAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm}\",\"referenceId\":\"compute:alarm:asg-many-unhealthy-hosts:2020-07-13\",\"resourceId\":\"riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY\",\"relatedSOPs\":[]}"
        },
        "Description" : "SSM Parameter for identifying installed resources."
      }
    },
    "AWSResilienceHubNatGwPortAllocationErrorsAlarm20200401nat0098cad18e5478625Alarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmName" : "AWSResilienceHub-NatGwPortAllocationErrorsAlarm-2020-04-01_CIA_nat-0098cad18e5478625",
        "AlarmDescription" : "Alarm by AWS Resilience Hub that indicates that too many concurrent connections are open through the NAT gateway\nand the NAT gateway could not allocate a source port\n",
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "MetricName" : "ErrorPortAllocation",
        "Namespace" : "AWS/NATGateway",
        "Dimensions" : [ {
          "Name" : "NatGatewayId",
          "Value" : "nat-0098cad18e5478625"
        } ],
        "Period" : 60,
        "Statistic" : "Average",
        "Threshold" : 0,
        "EvaluationPeriods" : 5,
        "DatapointsToAlarm" : 3,
        "ComparisonOperator" : "GreaterThanThreshold",
        "TreatMissingData" : "notBreaching"
      }
    },
    "AWSResilienceHubAsgConcurrentUnhealthyHostsAlarm20200713riksdagsmonitorWebServerFleet1IX1MMPQZF3AYAlarm" : {
      "Type" : "AWS::CloudWatch::Alarm",
      "Properties" : {
        "AlarmActions" : [ {
          "Ref" : "SNSTopicARN"
        } ],
        "AlarmDescription" : "Alarm by AWS Resilience Hub that reports when healthy host count is below 1",
        "AlarmName" : "AWSResilienceHub-AsgConcurrentUnhealthyHostsAlarm-2020-07-13_CIA_riksdagsmonitor-WebServerFleet-1IX1MMPQZF3AY",
        "ComparisonOperator" : "LessThanThreshold",
        "EvaluationPeriods" : 3,
        "DatapointsToAlarm" : 3,
        "Dimensions" : [ {
          "Name" : "TargetGroup",
          "Value" : "targetgroup/CIA-Https/05bdaa1364c960e2"
        }, {
          "Name" : "LoadBalancer",
          "Value" : "app/riksd-Publi-1QBM634ZKP4I6/037a689905d306a5"
        } ],
        "MetricName" : "HealthyHostCount",
        "Namespace" : "AWS/ApplicationELB",
        "Period" : 60,
        "Statistic" : "Maximum",
        "Threshold" : 1,
        "TreatMissingData" : "missing"
      }
    }
  },
  "Parameters" : {
    "SNSTopicARN" : {
      "Type" : "String",
      "Description" : "The ARN of the SNS topic to which alarm status changes are to be sent. This must be in the same region being deployed.",
      "AllowedPattern" : "^arn:(aws|aws-cn|aws-iso|aws-iso-[a-z]{1}|aws-us-gov):sns:([a-z]{2}-((iso[a-z]{0,1}-)|(gov-)){0,1}[a-z]+-[0-9]):[0-9]{12}:[A-Za-z0-9/][A-Za-z0-9:_/+=,@.-]{1,256}$"
    },
    "CanaryName" : {
      "Description" : "The name of a CloudWatch Synthetics canary indicating the overall health status of the application.",
      "Type" : "String"
    }
  }
}