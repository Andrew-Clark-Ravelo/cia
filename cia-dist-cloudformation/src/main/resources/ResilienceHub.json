{
	"AWSTemplateFormatVersion": "2010-09-09",
	"Resources": {


		"AppPolicy": {
			"Type": "AWS::ResilienceHub::ResiliencyPolicy",
			"Properties": {
				"DataLocationConstraint": "AnyLocation",
				"Policy": {
					"Software": {
						"RpoInSecs": 60,
						"RtoInSecs": 300
					},
					"Hardware": {
						"RpoInSecs": 60,
						"RtoInSecs": 300
					},
					"AZ": {
						"RpoInSecs": 60,
						"RtoInSecs": 300
					},
					"Region": {
						"RpoInSecs": 60,
						"RtoInSecs": 300
					}
				},
				"PolicyDescription": "MissionCritical",
				"PolicyName": "MissionCritical",
				"Tier": "MissionCritical"
			}
		},
		"Application": {
			"Type": "AWS::ResilienceHub::App",
			"DependsOn": "DNSRecordCNAME2PublicElasticLoadBalancerV2",
			"Properties": {
				"AppAssessmentSchedule": "Daily",
				"AppTemplateBody": {
					"Fn::Sub": "{\"resources\":[{\"logicalResourceId\":{\"identifier\":\"LogsBucket\",\"logicalStackName\":\"${AWS::StackName}\",\"resourceGroupName\":null},\"type\":\"AWS::S3::Bucket\",\"name\":\"s3bucket-logs\"},{\"logicalResourceId\":{\"identifier\":\"NAT\",\"logicalStackName\":\"${AWS::StackName}\",\"resourceGroupName\":null},\"type\":\"AWS::EC2::NatGateway\",\"name\":\"natgateway-vpc\"},{\"logicalResourceId\":{\"identifier\":\"WebServerFleet\",\"logicalStackName\":\"${AWS::StackName}\",\"resourceGroupName\":null},\"type\":\"AWS::AutoScaling::AutoScalingGroup\",\"name\":\"autoscalinggroup-fleet\"},{\"logicalResourceId\":{\"identifier\":\"ArtifactBucket\",\"logicalStackName\":\"${AWS::StackName}\",\"resourceGroupName\":null},\"type\":\"AWS::S3::Bucket\",\"name\":\"s3bucket-art\"},{\"logicalResourceId\":{\"identifier\":\"Database\",\"logicalStackName\":\"${AWS::StackName}\",\"resourceGroupName\":null},\"type\":\"AWS::RDS::DBInstance\",\"name\":\"rdsdbinstance-app\"},{\"logicalResourceId\":{\"identifier\":\"DNSRecordCNAME2PublicElasticLoadBalancerV2\",\"logicalStackName\":\"${AWS::StackName}\",\"resourceGroupName\":null},\"type\":\"AWS::Route53::RecordSet\",\"name\":\"route53recordset-app\"}],\"appComponents\":[{\"name\":\"storageappcomponent-wur\",\"type\":\"AWS::ResilienceHub::StorageAppComponent\",\"resourceNames\":[\"s3bucket-logs\"]},{\"name\":\"networkingappcomponent-uch\",\"type\":\"AWS::ResilienceHub::NetworkingAppComponent\",\"resourceNames\":[\"natgateway-vpc\"]},{\"name\":\"computeappcomponent-rin\",\"type\":\"AWS::ResilienceHub::ComputeAppComponent\",\"resourceNames\":[\"autoscalinggroup-fleet\"]},{\"name\":\"storageappcomponent-hbk\",\"type\":\"AWS::ResilienceHub::StorageAppComponent\",\"resourceNames\":[\"s3bucket-art\"]},{\"name\":\"databaseappcomponent-rds\",\"type\":\"AWS::ResilienceHub::DatabaseAppComponent\",\"resourceNames\":[\"rdsdbinstance-app\"]},{\"name\":\"networkingappcomponent-dns\",\"type\":\"AWS::ResilienceHub::NetworkingAppComponent\",\"resourceNames\":[\"route53recordset-app\"]},{\"name\":\"appcommon\",\"type\":\"AWS::ResilienceHub::AppCommonAppComponent\",\"resourceNames\":[]}],\"excludedResources\":{\"logicalResourceIds\":[]},\"version\":2.0}"
				},
				"Description": "Citizen Intelligence Agency",
				"Name": "CIA",
				"ResiliencyPolicyArn": {
					"Ref": "AppPolicy"
				},
				"ResourceMappings": [
					{
						"LogicalStackName": {
							"Ref": "AWS::StackName"
						},
						"MappingType": "CfnStack",
						"PhysicalResourceId": {
							"Identifier": {
								"Fn::Sub": "${AWS::StackId}"
							},
							"Type": "Arn"
						}
					}
					]
			}
		}
	}
}